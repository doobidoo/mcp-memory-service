#!/bin/bash
# Wrapper script for groq_agent_bridge.py
# Usage: groq "your prompt" [--options]

# Load GROQ_API_KEY from bashrc if not already set
if [ -z "$GROQ_API_KEY" ] && [ -f "$HOME/.bashrc" ]; then
    export GROQ_API_KEY=$(grep -oP 'export GROQ_API_KEY="\K[^"]+' "$HOME/.bashrc")
fi

# Get the script directory
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Run groq_agent_bridge.py with uv and pass all arguments
exec uv run python "$SCRIPT_DIR/groq_agent_bridge.py" "$@"
